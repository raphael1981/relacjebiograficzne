<div
        class="container-fluid ahm-container"
        ng-init="initOnLoad()"
>

    <form
            class="form-inline form-search-inline"
            ng-submit="onSubmit()"
    >

        <div class="row">

            <div class="col-xs-12 col-sm-12 col-advanced-search-container">


                    <div class="form-group">
                        <div class="input-group">
                            <b>
                                <a class="link-change-search" href="#/"><img src="/images/fragment_arrow_left.jpg">&nbsp;&nbsp; wyszukiwanie po frazie</a>
                            </b>
                        </div>
                    </div>

                <!--</form>-->

                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-4">

                        <h5 class="search-head">
                            <span
                                    class="select-circle red"
                                    ng-if="search.mode=='date'"
                            ></span>

                            <span
                                    class="select-circle white"
                                    ng-if="search.mode!='date'"
                                    ng-click="
                                        search.mode='date';
                                        $parent.placeclass='overlayer';
                                        $parent.dateclass=''"
                            ></span>
                            <span ng-click="search.mode='date';placeclass='overlayer';dateclass=''">Znajdź po dacie</span>
                        </h5>

                        <div class="cont-search-criteria" ng-class="dateclass" ng-init="(search.mode=='date')?(dateclass=''):(dateclass='overlayer')">

                            <div class="over-criteria-show" ng-click="search.mode='date';placeclass='overlayer';dateclass=''"></div>

                            <div class="row row-advanced-elements">
                                <div class="col-xs-12 col-sm-12 col-md-12">
                                    <!--<img-->
                                    <!--src="/images/select.jpg"-->
                                    <!--class="img-float-left"-->
                                    <!--ng-if="activetime.begin"-->
                                    <!--ng-click="(activetime.begin==true)?(activetime.begin=false):(activetime.begin=true)"-->
                                    <!--&gt;-->
                                    <!--<img-->
                                    <!--src="/images/deselect.jpg"-->
                                    <!--class="img-float-left"-->
                                    <!--ng-if="!activetime.begin"-->
                                    <!--ng-click="(activetime.begin==true)?(activetime.begin=false):(activetime.begin=true)"-->
                                    <!--&gt;-->
                                    <span class="label-form">Od</span>
                                    <div
                                            class="form-inline form-inline-to-oth">

                                        <div class="form-group">
                                            <div class="input-group input-date">

                                        <span
                                                class="active-input-element"
                                                ng-if="search.begin.year==null"
                                                ng-click="search.begin.year=''"
                                        >
                                           <i class="fa fa-plus-circle" aria-hidden="true"></i> Podaj rok
                                        </span>
                                                <input
                                                        type="text"
                                                        class="form-control"
                                                        placeholder="wpisz rok"
                                                        ng-if="search.begin.year!=null"
                                                        ng-model="search.begin.year"
                                                >

                                        <span
                                                class="active-input-element"
                                                ng-if="search.begin.year!=null"
                                                ng-click="search.begin.year=null"
                                        >

                                        <i
                                                class="fa fa-minus-circle"
                                                aria-hidden="true"

                                        ></i>
                                        </span>

                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="input-group input-date">

                                        <span
                                                class="active-input-element"
                                                ng-if="search.begin.month==null"
                                                ng-click="search.begin.month=''"
                                        >
                                            <i class="fa fa-plus-circle" aria-hidden="true"></i> Podaj miesiąc
                                        </span>
                                                <input
                                                        type="text"
                                                        class="form-control"
                                                        placeholder="wpisz miesiąc"
                                                        ng-if="search.begin.month!=null"
                                                        ng-model="search.begin.month"
                                                >

                                        <span
                                                class="active-input-element"
                                                ng-if="search.begin.month!=null"
                                                ng-click="search.begin.month=null"
                                        >

                                        <i
                                                class="fa fa-minus-circle"
                                                aria-hidden="true"

                                        ></i>
                                        </span>

                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="input-group input-date">

                                        <span
                                                class="active-input-element"
                                                ng-if="search.begin.day==null"
                                                ng-click="search.begin.day=''"
                                        >
                                            <i class="fa fa-plus-circle" aria-hidden="true"></i> Podaj dzień
                                        </span>
                                                <input
                                                        type="text"
                                                        class="form-control"
                                                        placeholder="wpisz dzień"
                                                        ng-if="search.begin.day!=null"
                                                        ng-model="search.begin.day"
                                                >

                                        <span
                                                class="active-input-element"
                                                ng-if="search.begin.day!=null"
                                                ng-click="search.begin.day=null"
                                        >

                                        <i
                                                class="fa fa-minus-circle"
                                                aria-hidden="true"

                                        ></i>
                                        </span>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row row-advanced-elements">
                                <div class="col-xs-12 col-sm-12 col-md-12">
                                    <!--<img-->
                                    <!--src="/images/select.jpg"-->
                                    <!--ng-if="activetime.end"-->
                                    <!--ng-click="(activetime.end==true)?(activetime.end=false):(activetime.end=true)"-->
                                    <!--&gt;-->
                                    <!--<img-->
                                    <!--src="/images/deselect.jpg"-->
                                    <!--ng-if="!activetime.end"-->
                                    <!--ng-click="(activetime.end==true)?(activetime.end=false):(activetime.end=true)"-->
                                    <!--&gt;-->
                                    <span class="label-form">Do</span>
                                    <div
                                            class="form-inline form-inline-to-oth">

                                        <div class="form-group">
                                            <div class="input-group input-date">

                                        <span
                                                class="active-input-element"
                                                ng-if="search.end.year==null"
                                                ng-click="search.end.year=''"
                                        >
                                           <i class="fa fa-plus-circle" aria-hidden="true"></i> Podaj rok
                                        </span>
                                                <input
                                                        type="text"
                                                        class="form-control"
                                                        placeholder="wpisz rok"
                                                        ng-if="search.end.year!=null"
                                                        ng-model="search.end.year"
                                                >

                                        <span
                                                class="active-input-element"
                                                ng-if="search.end.year!=null"
                                                ng-click="search.end.year=null"
                                        >

                                        <i
                                                class="fa fa-minus-circle"
                                                aria-hidden="true"

                                        ></i>
                                        </span>

                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="input-group input-date">

                                        <span
                                                class="active-input-element"
                                                ng-if="search.end.month==null"
                                                ng-click="search.end.month=''"
                                        >
                                            <i class="fa fa-plus-circle" aria-hidden="true"></i> Podaj miesiąc
                                        </span>
                                                <input
                                                        type="text"
                                                        class="form-control"
                                                        placeholder="wpisz miesiąc"
                                                        ng-if="search.end.month!=null"
                                                        ng-model="search.end.month"
                                                >

                                        <span
                                                class="active-input-element"
                                                ng-if="search.end.month!=null"
                                                ng-click="search.end.month=null"
                                        >

                                        <i
                                                class="fa fa-minus-circle"
                                                aria-hidden="true"

                                        ></i>
                                        </span>

                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="input-group input-date">

                                        <span
                                                class="active-input-element"
                                                ng-if="search.end.day==null"
                                                ng-click="search.end.day=''"
                                        >
                                            <i class="fa fa-plus-circle" aria-hidden="true"></i> Podaj dzień
                                        </span>
                                                <input
                                                        type="text"
                                                        class="form-control"
                                                        placeholder="wpisz dzień"
                                                        ng-if="search.end.day!=null"
                                                        ng-model="search.end.day"
                                                >
                                        <span
                                                class="active-input-element"
                                                ng-if="search.end.day!=null"
                                                ng-click="search.end.day=null"
                                        >

                                        <i
                                                class="fa fa-minus-circle"
                                                aria-hidden="true"

                                        ></i>
                                        </span>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-4">

                        <h5 class="search-head">
                            <span
                                    class="select-circle red"
                                    ng-if="search.mode=='place'"
                            ></span>

                            <span
                                    class="select-circle white"
                                    ng-if="search.mode!='place'"
                                    ng-click="search.mode='place';$parent.placeclass='';$parent.dateclass='overlayer'"
                            ></span>
                            <span ng-click="search.mode='place';placeclass='';dateclass='overlayer'">Znajdź miejsca</span>
                        </h5>

                        <div class="cont-search-criteria" ng-class="placeclass" ng-init="(search.mode=='place')?(placeclass=''):(placeclass='overlayer')">

                            <div class="over-criteria-show" ng-class="placeclass" ng-click="search.mode='place';placeclass='';dateclass='overlayer'"></div>

                            <ui-select
                                    multiple
                                    ng-model="search.places"
                                    theme="bootstrap"
                                    ng-disabled="false"
                                    sortable="true"
                                    close-on-select="true"
                                    style="width: 100%;"
                                    title="Single property binding with async data"
                            >
                                <ui-select-match
                                        placeholder="">
                                    <span class="big-label">[[$item.name ]]</span>
                                </ui-select-match>

                                <ui-select-choices
                                        repeat="place.id as place in places | propsFilter: {name: $select.search}"
                                >

                                    <h4 class="select-suggest-h4">[[place.name]]</h4>

                                </ui-select-choices>
                            </ui-select>

                        </div>

                    </div>
                </div>



            </div>

        </div>


        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-8">
                <br><br>
                <button type="submit" class="btn btn-full-length btn-brown-color">Szukaj</button>
            </div>
        </div>

    </form>

    <div class="screen-search">

        <div class="searching-now" ng-if="showsearching">
            <img src="/images/loading.svg">
        </div>

        <div class="row row-search-results">
            <div class="col-xs-12 col-sm-12">

                <div class="row">
                    <div class="col-xs-12 col-sm-6">

                        <div class="row row-search-result" ng-repeat="r in data.results" ng-if="(($index % 2) == 0)">

                            <div class="col-xs-12 col-sm-12 col-md-2 col-icon-search">
                                <img src="/images/[[ r.record.type ]]-icon.svg" class="img-responsive">
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-10 col-fragments">


                                <div ng-if="auth">

                                    <h2 class="interviewee-name">

                                        <a
                                                href="/[[ r.record.type ]]/[[ r.record.rid ]]-[[ r.record.alias ]]"

                                        >
                                            [[ r.record.title ]]
                                        </a>

                                    </h2>

                                    <div
                                            search-fragments-advanced="[[ r.fragments ]]"
                                            record="[[ r.record ]]"
                                            auth="[[ auth ]]"
                                    >

                                    </div>


                                </div>


                                <div ng-if="!auth">

                                    <h2 class="interviewee-name">

                                        <a
                                                href="/demo/[[ r.record.type ]]/[[ r.record.rid ]]-[[ r.record.alias ]]"

                                        >
                                            [[ r.record.title ]]
                                        </a>

                                    </h2>


                                    <div
                                            search-fragments-advanced="[[ r.fragments ]]"
                                            record="[[ r.record ]]"
                                            auth="[[ auth ]]"
                                    >

                                    </div>


                                </div>




                            </div>

                        </div>


                    </div>

                    <div class="col-xs-12 col-sm-12 col-md-6">

                        <div class="row row-search-result" ng-repeat="r in data.results" ng-if="(($index % 2) == 1)">

                            <div class="col-xs-12 col-sm-12 col-md-2 col-icon-search">
                                <img src="/images/[[ r.record.type ]]-icon.svg" class="img-responsive">
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-10 col-fragments">


                                <div ng-if="auth">

                                    <h2 class="interviewee-name">

                                        <a
                                                href="/[[ r.record.type ]]/[[ r.record.rid ]]-[[ r.record.alias ]]/?fraza=[[ data.search.frase ]]&stype=[[ data.search.searchmode ]]"

                                        >
                                            [[ r.record.title ]]
                                        </a>

                                    </h2>


                                </div>


                                <div ng-if="!auth">

                                    <h2 class="interviewee-name">

                                        <a
                                                href="/demo/[[ r.record.type ]]/[[ r.record.rid ]]-[[ r.record.alias ]]/?fraza=[[ data.search.frase ]]&stype=[[ data.search.searchmode ]]"

                                        >
                                            [[ r.record.title ]]
                                        </a>

                                    </h2>

                                    <div
                                            search-fragments-advanced="[[ r.fragments ]]"
                                            record="[[ r.record ]]"
                                            auth="[[ auth ]]"
                                    >

                                    </div>


                                </div>


                            </div>
                        </div>

                    </div>
                </div>

                <div class="more-section" ng-if="morebutton">
                    <a href="#" class="button-more-search" ng-click="addNext();$event.preventDefault()">
                        pokaż więcej
                    </a>
                </div>

            </div>
        </div>
    </div>
</div>